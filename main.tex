% vim: spell spelllang=es:
\input{preamble.tex}

\title{IA Búsqueda local}
\author{%
    Aleix Boné\\
    Alex Herrero\\
    Moisés Balcells
}
\date{%
Marzo 2020
}

% MARIA TERESA ABAD: <mabad@cs.upc.edu>

\begin{document} 

\thispagestyle{empty}
\clearpage
\setcounter{page}{-1}

\begin{titlepage}
{
    \centering
    \null
    \vfill
    {\Large Inteligencia Artificial\par}
    \vspace{2em}
    {\Huge \bfseries 
    Práctica de búsqueda local
    \par}
    \vspace{2em}
    {\large \scshape 
    Marzo 2020
    \par}
    \vfill
\begin{center}
    
\end{center}
    \vspace{3cm}

    \vfill
    {\raggedleft \large
Aleix Boné Ribó\\
Alex Herrero Pons\\
    Moisés Balcells
        \par}
}
\end{titlepage}

\pagebreak

\thispagestyle{empty}
\clearpage
\setcounter{page}{0}

\tableofcontents

\pagebreak


% La documentación deberá incluir:
% La descripción/justificación de la implementación del estado.
% La descripción/justificación de los operadores que habéis elegido...
% La descripción/justificación de las estrategias para hallar la solución inicial.
% La descripción/justificación de las funciones heurísticas.
% Para cada experimento:    
% • Condiciones de cada experimento
% • Resultados del experimento
% • Qué esperabais y qué habéis obtenido    
% • Comparaciones
% • Comentarios adicionales que os parezcan adecuados.
% Comparación entre los resultados obtenidos con Hill Climbing y Simulated Annealing (no olvidéis explicar cómo habéis ajustado los parámetros para este último algoritmo).
% Respuestas razonadas a las preguntas del enunciado.

\section{Implementación del estado}
Para lograr el estado inicial con el cuál hemos ejecutado los experimentos hicimos distintas versiones del estado inicial hasta que nos quedamos con la que creíamos que era mejor.

\textbf{La primera  versión de la implementación} planteada consistía en lo siguiente, la estructura de datos que hicimos era un array en el cual los índices del array representaban los ids de las peticiones y el contenido de este representaba el servidor con el cual iba a ser servida esa petición, es decir para cada petición en el array guardábamos el servidor que iba a responder esa petición. Los pros y contras que encontramos en esta implementación fueron.

\textbf{Pros:}

-Eficiente en memoria debido a los pocos datos que se almacenan en esta.

\textbf{Contras:}

-El cálculo de las heurísticas es muy lento, ya que al únicamente utilizar esa estructura de datos muchos datos son calculados de manera repetida.

\textbf{La segunda versión de la implementación} que hicimos consistía en mejorar la primera y las mejoras que añadimos eran añadir otro array. En el cual los índices representaban también los ids de las peticiones, y el contenido de las posiciones del array representaba el tiempo que tarda en servirse dicha petición. Aparte de hacer esta mejora añadimos una variable de tipo entero la cual guardábamos el tiempo total que tardaban en servirse las peticiones.

Las diferencias obtenidas en esta implementación respecto a la  anterior en cuanto al cálculo de las heurísticas  y la eficiencia en la memoria utilizada. Son que el cálculo de las funciones heurísticas tardaba mucho menos que en la primera versión, debido a que hora guardamos variables que antes no guardábamos las cuales nos facilitan el cálculo de las funciones heurísticas, en cuanto a la eficiencia en la memoria esta sigue siendo eficiente pero menos que antes.

\textbf{La última versión de la implementación} que realizamos se trataba de una mejora sobre la versión anterior y lo que hicimos fue añadir un hashmap de dos enteros, en este lo que guardamos es el servidor y el tiempo que tarda en servir todas las peticiones que han sido enviadas a ese servidor, es decir guarda el id del servidor y el tiempo en el que sirve todas las peticiones que tiene que servir.

Esta versión final, nos proporciona el menor tiempo de ejecución de todas las versiones anteriores, y teniendo en cuenta que mantiene una eficiencia en memoria aceptable, para el tipo de problemas al que nos enfrentamos creemos que es la mejor opción. 


% primero solo guardavamos para cada req el id del server
% desupes guardamos tambien los tiempos de las req
% finalmente guardamos los tiempos de las req i de los servidores

\section{Operadores que hemos elegido}

\section{Estrategias para hallar la solución inicial}

\section{Funciones heurísticas}

\section{Experimentos}

\subsection{Influencia de los operadores}

\subsection{Influencia de la solución inicial}

\begin{table}[H]
    \caption{Resultados del experimento 2}%
    \label{tab:ex2}
    \begin{center}
    \input{include/tables/ex2}
    \end{center}
\end{table}

\subsection{Parámetros para el simulated annealing}

\subsection{Evolución del tiempo de ejecución para valores crecientes de los parámetros}

\subsubsection{Número de usuarios que piden ficheros}

\begin{table}[H]
    \caption{Resultados del experimento 4 (Usuarios)}%
    \label{tab:ex4u}
    \begin{center}
    \input{include/tables/ex4u}
    \end{center}
\end{table}

\begin{figure}[H]
    \centering
    \includegraphics{include/plots/ex4_u_mean_time.pdf}
    \caption{Media Experimento 4 (Usuarios)}%
    \label{fig:ex4u_mean}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics{include/plots/ex4_u_time_bplot.pdf}
    \caption{Experimento 4 (Usuarios)}%
    \label{fig:ex4u}
\end{figure}

\subsubsection{Número de servidores (Manteniendo el número de replicaciones)}

\begin{table}[H]
    \caption{Resultados del experimento 4 (Servidores)}%
    \label{tab:ex4s}
    \begin{center}
    \input{include/tables/ex4s}
    \end{center}
\end{table}

\begin{figure}[H]
    \centering
    \includegraphics{include/plots/ex4_s_mean_time.pdf}
    \caption{Media Experimento 4 (Servidores)}%
    \label{fig:ex4s_mean}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics{include/plots/ex4_s_time_bplot_cut.pdf}
    \caption{Experimento 4}%
    \label{fig:ex4s}
\end{figure}

\subsection{Diferencia entre Tiempo total de transmisión y tiempo para hallar la solución (Hill Climbing)}

\subsection{Diferencia entre Tiempo total de transmisión y tiempo para hallar la solución (Simulated Annealing)}

\subsection{Influencia del número de replicaciones de los ficheros}

\begin{table}[H]
    \centering
    \caption{Resultados del experimento 7}%
    \label{tab:ex7}
    \begin{center}
    \input{include/tables/ex7}
    \end{center}
\end{table}

\begin{figure}[H]
    \centering
    \includegraphics{include/plots/ex7_means.pdf}
    \caption{Medias Experimento 7}%
    \label{fig:ex7means}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics{include/plots/ex7_time_bplot.pdf}
    \caption{Experimento 7}%
    \label{fig:ex7time}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics{include/plots/ex7_ttt_bplot.pdf}
    \caption{Experimento 7}%
    \label{fig:ex7ttt}
\end{figure}

\subsection{Conclusión de los experimentos}
    
    
    
\end{document}